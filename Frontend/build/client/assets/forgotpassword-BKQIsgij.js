import{w as g}from"./with-props-DSW1myl8.js";import{g as x,r as t,j as e}from"./chunk-DQRVZFIR-CtLrds9g.js";const j=()=>{const c=x(),[r,m]=t.useState(""),[i,p]=t.useState(""),[h,o]=t.useState(""),[l,d]=t.useState(!1),u=async s=>{s.preventDefault(),o(""),d(!0);try{const n=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:i})}),a=await n.json();console.log("Login response data:",a),console.log("Token from response:",a.token),n.ok?(localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),c("/dashboard")):o(a.message||"Login failed")}catch{o("An error occurred. Please try again.")}finally{d(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"login-background",children:[e.jsx("div",{className:"bg-element2"}),e.jsx("div",{className:"bg-element2"}),e.jsx("div",{className:"bg-element2"}),e.jsx("div",{className:"bg-element2"}),e.jsx("div",{className:"bg-element2"}),e.jsx("div",{className:"bg-element2"}),e.jsx("div",{className:"pulse-element2"}),e.jsx("div",{className:"pulse-element2"}),e.jsx("div",{className:"pulse-element2"}),e.jsx("div",{className:"pulse-element2"}),e.jsx("div",{className:"pulse-element2"}),e.jsx("div",{className:"pulse-element2"}),e.jsx("div",{style:{paddingTop:"6rem"},children:e.jsxs("div",{className:"forgotpwContainer",children:[e.jsx("h1",{className:"header",children:"Reset Your Password"}),e.jsx("p",{className:"tagline",children:"Your password will be reset if the account exists"}),e.jsxs("form",{children:[e.jsxs("div",{className:"forgotpwform",children:[e.jsx("input",{type:"email",name:"email",value:r,onChange:s=>m(s.target.value),placeholder:"Enter your email",disabled:l}),e.jsx("input",{type:"password",name:"password",value:i,onChange:s=>p(s.target.value),placeholder:"Enter your new password",disabled:l})]}),e.jsx("div",{className:"submitButton",children:e.jsx("button",{type:"button",onClick:u,disabled:l,children:"Log in"})})]})]})})]})})},f=g(j);export{f as default};
